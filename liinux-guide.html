<!DOCTYPE html>
<html>
	<meta charset="utf-8">
	<head>
		<title>Liinux</title>
		<style>
			* {
				font-family: "Lucida Console", Courier, monospace;
			}

			body {
				background-color: #FFFED3;
			}

			code {
				background-color: #CCCCCC;
				font-style: italic;
			}

			.box {
				margin-left: 25px;
			}
		</style>
	</head>
	<body>
		<h2>Technical Specs of the Wii</h2>
		<div class="box">
			<h4>Processor (from /proc/cpuinfo)</h4>
			<ul>
				<li>Broadway 750CL</li>
				<li>729.00MHz</li>
			</ul>

			<h4>RAM (from /proc/meminfo)</h4>
			<ul>
				<li>76204kB actually useable ...</li>
				<li>...although <code>htop</code> only shows 74MB of useable RAM</li>
			</ul>

			<h4>Wireless (from <code>iwconfig</code>)</h4>
			<ul>
				<li>Mitsumi DWM-W004 WiFi 802.11b/g</li>
				<li><i>My tested speeds on a 20Mbit network averaged ~160kB/s...so not fast!</i></li>
				<i><li><code>ping</code> tests on my Desktop vs. the Wii on same network for 1 minute
					<table>
						<thead>
							<th>System |</th>
							<th>Packets Transmitted |</th>
							<th>Packets Received |</th>
							<th>Packet Loss |</th>
							<th>Ping Average |</th>
							<th>Time</th>
						</thead>
						<tbody>
							<tr>
								<td>Desktop</td>
								<td>60</td>
								<td>60</td>
								<td>0%</td>
								<td>62.932 ms</td>
								<td>59025 ms</td>
							</tr>
							<tr>
								<td>Wii</td>
								<td>60</td>
								<td>55</td>
								<td>8%</td>
								<td>66.969 ms</td>
								<td>59214 ms</td>
							</tr>
						</tbody>
					</table>
				</li></i>
			</ul>

			<h4>Power Consumption (from <a href="https://en.wikipedia.org/wiki/Wii#Specifications">here</a>)</h4>
			<ul>
				<li>18W power consumption</li>
			</ul>


		</div>
		<hr>

		<h2>Getting Whiite</h2>
		<div class="box">
			<h4>Requirements</h4>
			<ul>
				<li>2GB SD card</li>
				<li>USB flash drive</li>
				<li>USB keyboard</li>
				<li>Computer with Unix installed already</li>
				<li>A Wii, Wiimote and a TV... obviously</li>
			</ul>

			<h4>Updating your Wii to Version 4.3</h4>
			<ul>
				<li>If you know how to update, you can skip this step!</li>
				<li>Start up your Wii, and navigate to the Settings</li>
				<li>Choose the right option, "Wii System Settings"</li>
				<li>Scroll right through the options until you find Internet</li>
				<li>Make sure that your Wii is connected to the internet via a wireless connection by either selecting a previous connection option, or by setting up a new connection point</li>
				<li>Once you have working WiFi, return to the system settings and choose "Wii System Update" (it's on the third page of options)</li>
				<li>Wait for the Wii to update. This may take upwards of 10 minutes depending on your internet connection speed</li>
				<li>After it updates, it should reboot <i>(I think)</i>, and return to the main Wii Menu</li>
				<li>Confirm the update by going back to "Wii System Settings", and in the top right of the menu you should see "Wii System 4.3X", where X is your Wii System country's version</li>
			</ul>
			
			<h4>Installing Homebrew (Without Bootmii!)</h4>
			<ul>
				<li>Before you try to install Homebrew, you <i>need</i> to make sure that your Wii is updated to 4.3. If the last step was unsuccessful, do not continue</li>
				<li>This is a somewhat lengthy process, I recommend you follow <a href="http://www.wikihow.com/Install-Homebrew-on-Wii-Menu-4.3">this</a> guide, but <b>DO NOT INSTALL BOOTMII YET</b></li>
			</ul>
			
			<h4>Installing IOS236</h4>
			<ul>
				<li></li>
			</ul>
			
			<h4>Installing Bootmii as boot2</h4>
			<ul>
				<li></li>
			</ul>
			
			<h4>Setting up the SD card and USB</h4>
			<ul>
				<li></li>
			</ul>

			<h4>Run the Whiite Installer</h4>
			<ul>
				<li>We will be using the installer for the <i>sole purpose</i> of how it partitions your SD card. I have been unsuccessful in trying to manually partition the SD card, even when it matches the layout of how the installer does it</li>
			</ul>

			<h4>Wipe the SD card</h4>
			<ul>
				<li>Unplug the SD card from your Wii, and reconnect it to your computer</li>
				<li>When plugged in, you should find that two separate partitions have been created by the installer
					<ul>
						<li>boot</li>
						<li>whiite</li>
					</ul>
				</li>
				<li>Using terminal, the path to the mounted partitions should be something like "/media/$USER/boot/" and "/media/$USER/whiite/"</li>
				<li>We need to remove all files on both partitions. Using the terminal, run:
					<ul>
						<li><code>rm -rf /media/$USER/boot/*</code></li>
						<li><code>rm -rf /media/$USER/whiite/*</code></li>
					</ul>
				</li>
				<li>Confirm that the files have been removed by either <code>ls</code>'ing in terminal, or navigating to the partitions with your file manager</li>
				<div class="box">
					<i>
					<p>Note: When unplugging the SD card from your computer, make sure to eject it safely. For me, when performing copy and deletes from the SD from my computer, the terminal commands would end but the SD card would still be performing actions. If you do not eject safely, you risk corrupting the filesystem or the kernel</p>
					</i>
				</div>
			</ul>

			<h4>Add Bootmii</h4>
			<ul>
				<li>Remember the folder you copied from your SD card when you initially installed bootmii? Copy that entire folder into the SD card's boot partition</li>
				<li>We will be overwriting the ppcboot.elf file in the bootmii folder, so we can delete it first via terminal:
					<ul>
						<li><code>rm /media/$USER/boot/bootmii/ppcboot.elf</code></li>
					</ul>
				</li>
			</ul>

			<h4>Get the Correct Kernel</h4>
			<ul>
				<li>The filestructure of the SD card should look like this:
					<ul>
						<li>boot
							<ul>
								<li>bootmii
									<ul>
										<li>armboot.bin</li>
										<li>bootmii.ini</li>
									</ul>
								</li>
							</ul>
						</li>
						<li>whiite</li>
					</ul>
				</li>
				<li>Go to <a href="http://www.gc-linux.org/wiki/WL:whiite-linux#Featured_kernel_images">this</a> location and download the kernel version that best fits your TV and Wii setup. I would say 99 out of 100 times you're going to want to use the 5<sup>th</sup> option, "<a href="http://downloads.sourceforge.net/gc-linux/mikep5-zImage-2.6.32.mini.480p(NTSC).elf">mikep5-zImage-2.6.32.mini.480p(NTSC).elf</a>"</li>
				<li>Move the .elf file into the bootmii folder on your SD card, either with the <code>mv</code> terminal command or by dragging and dropping the file</li>
				<li>Rename the file "ppcboot.elf"
					<ul>
						<li><code>mv /media/$USER/boot/bootmii/mikep5-zImage-2.6.32.mini.480p(NTSC).elf /media/$USER/boot/bootmii/ppcboot.elf</code></li>
					</ul>
				</li>
			</ul>

			<h4>Get the Updated Filesystem</h4>
			<ul>
				<li>Download <a href="http://downloads.sf.net/gc-linux/debian-lenny-5.0%2Bwhiite-1.10.tar.bz2">this</a> file</li>
				<li>Navigate to the whiite directory on your SD card
					<ul>
						<li><code>cd /media/$USER/whiite</code></li>
					</ul>
				</li>
				<li>Untar the downloaded file into this location using the terminal
					<ul>
						<li><code>sudo tar -xjvf /home/$USER/Downloads/debian-lenny-5.0+whiite-1.10.tar.bz2</code></li>
					</ul>
				</li>
				<li>Wait for the untarring process to finish, it may take ~10 seconds to complete</li>
				<li>Eject the drive safely, and wait for confirmation that you're able to unplug before you do so. Again, not safely removing the SD card from your computer risks corruption of the filesystem</li>
			</ul>

			<h4>Plug it into the Wii</h4>
			<ul>
				<li>At this point the filestructure of the SD card should look like this:
					<ul>
						<li>boot
							<ul>
								<li>bootmii
									<ul>
										<li>armboot.bin</li>
										<li>bootmii.ini</li>
										<li>ppcboot.elf</li>
									</ul>
								</li>
							</ul>
						</li>
						<li>whiite
							<ul>
								<li>bin</li>
								<li>boot</li>
								<li>debootstrap</li>
								<li>dev</li>
								<li>etc</li>
								<li>home</li>
								<li>initrd</li>
								<li>lib</li>
								<li>lost+found</li>
								<li>media</li>
								<li>mnt</li>
								<li>opt</li>
								<li>proc</li>
								<li>root</li>
								<li>sbin</li>
								<li>selinux</li>
								<li>srv</li>
								<li>sys</li>
								<li>tmp</li>
								<li>usr</li>
								<li>var</li>
							</ul>
						</li>
					</ul>
				</li>
				<li>If your filestructure matches that of the above filestructure, you should be good to go</li>
			</ul>
		</div>
		<!-- <ul>
			<li>need usb and 2GB SD card</li>
			<li>update wii to 4.3</li>
			<li>install homebrew without bootmii</li>
			<li>get ios236 app and run it</li>
			<li>install bootmii as boot2
				<ul>
					<li>save a copy of the generated bootmii folder somewhere</li>
				</ul>
			</li>
			<li>setup the SD card and USB
				<ul>
					<li>whiite linux installer on sd card under apps</li>
					<li>untar bundled filesystem, kernel, and config file on USB</li>
				</ul>
			</li>
			<li>run the whiite installer through homebrew</li>
			<li>wipe the sd card partitions, remove the USB (finished with the USB now)</li>
			<li>drag bootmii folder back into boot partition</li>
			<li>download the correct MINI kernel for the size of your TV (most likely 480p version)
				<ul>
					<li>delete the current ppcboot.elf file in the bootmii folder</li>
					<li>place this file in the bootmii folder</li>
					<li>rename it "ppcboot.elf"</li>
				</ul>
			</li>
			<li>get newest filesystem and install that in whiite partition</li>
			<li>plug it into the wii and start it</li>
			<li>it should work</li>
		</ul> -->
		<hr>

		<h2>Once you have Whiite installed</h2>
		<div class="box">
			<h4>Booting the Wii for the first time</h4>
			<ul>
				<li>Make sure that the SD card is in the Wii</li>
				<li>Turn it on</li>
				<li>Wait...</li>
				<li>You shouldn't crash. If so, your best bet is to Google the generic error(s), not specifying the Wii</li>
				<li>When prompted, enter whiite's login information:
					<ul>
						<li>Login:    <code>root</code></li>
						<li>Password: <code>whiite</code></li>
					</ul>
				</li>
				<li>You should now be logged into whiite on your Wii as root</li>
			</ul>

			<h4>Fixing the Keyboard</h4>
			<ul>
				<li>If you try typing some symbols, such as '-', you can see they don't type the correct characters</li>
				<li>Run the command <code>dpkg-reconfigure console-data</code>. Use the Numberpad '-'</li>
				<li>Wait for the config tool to load...</li>
				<li>Choose these options as they appear to load a standard QWERTY English keyboard
					<ul>
						<li>OK</li>
						<li>Select keymap from full list</li>
						<li>Scroll down with the arrow keys until you find "pc / qwerty / US american / Standard / Standard"</li>
						<li>Press enter on that choice</li>
					</ul>
				</li>
				<li>Wait for the tool to finish working...</li>
				<li>Now your keyboard should be working correctly</li>
			</ul>

			<h4>Setting up WiFi</h4>
			<ul>
				<li>Whiite comes bundled with an easy installer that automatically modifies the "/etc/network/interfaces" file</li>
				<li>The binary is located in the root. If you're in the root direction "~", you can get there by running <code>cd ~</code></li>
				<li>While here I find myself running <code>ls</code> in every directory to get a sense for where things are in the filesytem</li>
				<li>Run <code>./whiite-ez-wifi-config</code></li>
				<li>Follow the onscreen prompts to enter your network SSID and passkey</li>
				<li>There will be an option to test the connection, you will want to test the connection
					<ul>
						<li>If the installer says that the connection didn't work, don't worry. It might've worked anyway and the installer doesn't recognize it</li>
					</ul>
				</li>
				<li>Back in your regular terminal, you can run <code>iwconfig</code> to see if you are connected to a network</li>
				<li>You will be looking for the "wlan0" connection</li>
				<div class="box">
					<i>
					<p>Note: If you find that you still cannot connect to a WiFi spot, you can check the interfaces using <code>vi /etc/network/interfaces</code>. You can also restart the system, that might help: <code>shutdown -h now</code></p>
					</i>
				</div>
				<li>If everything looks good, you can issue a <code>ping</code> to a website, like "www.google.com", and hopefully you will see a response</li>
			</ul>

			<h4>Getting Correct Aptitude Repositories</h4>
			<ul>
				<li>Debian Lenny has become unsupported, so any <code>apt-get install</code> command will most likely fail due to the wrong repository source being used</li>
				<li>To update this, use the following three commands in order:
					<ul>
						<li><code>deb http://archive.debian.org/debian/ lenny contrib main non-free</code></li>
						<li><code>deb http://archive.debian.org/debian-security lenny/updates main</code></li>
						<li><code>apt-get install debian-archive-keyring</code></li>
					</ul>
				</li>
			</ul>

			<h4>Upgrade and Update Aptitude</h4>
			<ul>
				<li>If you've gotten this far, I probably don't need to show you how to update apt</li>
				<li><s>Overall I think it was ~150MB</s> I have no idea how much it was to upgrade and update everything
					<ul>
						<li><code>apt-get update</code></li>
						<li><code>apt-get upgrade</code></li>
						<li><code>apt-get update</code></li>
					</ul>
				</li>
			</ul>

			<h4>Tying out Apt</h4>
			<ul>
				<li>A useful tool while messing around with the Wii is htop</li>
				<li>It is essentially a better version of top, which is your basic System Monitor
					<ul>
						<li><code>apt-get install htop</code></li>
					</ul>
				</li>
				<li>Likewise, whiite (aka Debian Lenny) comes with the vi text editor. However, if you plan to do text editing at all on the machine, I recommend installing vim
					<ul>
						<li><code>apt-get install vim</code></li>
					</ul>
				</li>
			</ul>

		</div>
	</body>
</html>