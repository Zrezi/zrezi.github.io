<!DOCTYPE html>
<html>
	<meta charset="utf-8">
	<head>
		<title>GC-Whiite Guide</title>
		<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Share+Tech+Mono">
		<style>
			* {
				font-family: 'Share Tech Mono', monospace;
			}
		</style>
	</head>
	<body>

		<h2>Before we begin...</h2>
		<div class="box">
			<h4>Why?</h4>
			<ul>
				<li>If you're looking for a Linux system capable of running high traffic webservers, the Wii is not for you</li>
				<li>If you're looking for a Linux system capable of booting in less than 30 seconds, the Wii is not for you</li>
				<li>If you're looking for a Linux system capable of mining bitcoins, the Wii is not for you</li>
				<li>If you're looking for a Linux system capable of running graphically intensive programs, the Wii is definitely not for you</li>
			</ul>
			<div class="box">
				<p><i>However...</i></p>
			</div>
			<ul>
				<li>If you want to experiment with Linux and don't require much of anything performance wise, the Wii IS for you</li>
				<li>If you want to compile code and run it in a minimalistic Linux environment, the Wii is definitely capable</li>
				<li>If you like to take things apart until they're broke, and forget how to fix them, GC-Whiite on the Wii is for you</li>
				<li>If you have a Wii lying around that you have absolutely no use for, you might want to install Linux on it!</li>
			</ul>
		</div>
		<hr>

		<h2>Requirements</h2>
		<div class="box">
			<h4>Stuff you're going to need:</h4>
			<ul>
				<li>2 hours</li>
				<li>2GB SD card</li>
				<li>512MB or more USB flash drive</li>
				<li>USB keyboard</li>
				<li>Computer with -unix installed already</li>
				<li>A Wii, Wiimote, Gamecube and a TV... obviously</li>
			</ul>
		</div>
		<hr>

		<h2>A Quick Note on the Technical Specs of the Wii</h2>
		<div class="box">
			<p><i>This is just random stuff I've found either by Googling or running commands on the Wii itself</i></p>
			<h4>Processor (from /proc/cpuinfo)</h4>
			<ul>
				<li>Broadway 750CL</li>
				<li>729.00MHz</li>
			</ul>

			<h4>RAM (from /proc/meminfo)</h4>
			<ul>
				<li>76204kB actually useable ...</li>
				<li>...although <code>htop</code> only shows 74MB of useable RAM</li>
				<li>Idle usage holds steady at ~16MB for me</li>
			</ul>

			<h4>Wireless (from <code>iwconfig</code>)</h4>
			<ul>
				<li>Mitsumi DWM-W004 WiFi 802.11b/g</li>
				<li><i>My tested speeds on a 20Mbit network averaged ~160kB/s...so not fast!</i></li>
				<i><li><code>ping</code> tests on my Desktop vs. the Wii on same network for 1 minute
					<table>
						<thead>
							<th>System |</th>
							<th>Packets Transmitted |</th>
							<th>Packets Received |</th>
							<th>Packet Loss |</th>
							<th>Ping Average |</th>
							<th>Time</th>
						</thead>
						<tbody>
							<tr>
								<td>Desktop</td>
								<td>60</td>
								<td>60</td>
								<td>0%</td>
								<td>62.932 ms</td>
								<td>59025 ms</td>
							</tr>
							<tr>
								<td>Wii</td>
								<td>60</td>
								<td>55</td>
								<td>8%</td>
								<td>66.969 ms</td>
								<td>59214 ms</td>
							</tr>
						</tbody>
					</table>
				</li></i>
			</ul>

			<h4>Power Consumption (from <a href="https://en.wikipedia.org/wiki/Wii#Specifications">here</a>)</h4>
			<ul>
				<li>18W power consumption</li>
			</ul>


		</div>
		<hr>

		<h2>Getting Whiite</h2>
		<div class="box">
			<h4>Updating your Wii to Version 4.3</h4>
			<ul>
				<li>If you know how to update, you can skip this step!</li>
				<li>Start up your Wii, and navigate to the Settings</li>
				<li>Choose the right option, "Wii System Settings"</li>
				<li>Scroll right through the options until you find Internet</li>
				<li>Make sure that your Wii is connected to the internet via a wireless connection by either selecting a previous connection option, or by setting up a new connection point</li>
				<li>Once you have working WiFi, return to the system settings and choose "Wii System Update" (it's on the third page of options)</li>
				<li>Wait for the Wii to update. This may take upwards of 10 minutes depending on your internet connection speed</li>
				<li>After it updates, it should reboot <i>(I think)</i>, and return to the main Wii Menu</li>
				<li>Confirm the update by going back to "Wii System Settings", and in the top right of the menu you should see "Wii System 4.3X", where X is your Wii System country's version</li>
			</ul>
			
			<h4>Installing Homebrew (Without Bootmii!)</h4>
			<ul>
				<li>Before you try to install Homebrew, you <i>need</i> to make sure that your Wii is updated to 4.3. If the last step was unsuccessful, do not continue</li>
				<li>This is a somewhat lengthy process, I recommend you follow <a href="http://www.wikihow.com/Install-Homebrew-on-Wii-Menu-4.3">this</a> guide, but <b>DO NOT INSTALL BOOTMII YET</b></li>
			</ul>
			
			<h4>Installing IOS236</h4>
			<ul>
				<li>This step reverts the Wii's native operating system to an earlier version, the one that allows us to take advantage of a system exploit and write to the Wii's NAND memory</li>
				<li>Download <a href="">this broken link</a>, and place it in the apps folder on your SD card</li>
				<li>Navigate back to the Homebrew Channel, and run the installer. Choose the first option when it loads, and wait for it to complete</li>
				<li>As soon as it's done, you can exit the app and restart the Wii</li>
				<li>Once restarted, move onto the next step</li>
			</ul>
			
			<h4>Installing Bootmii as boot2</h4>
			<ul>
				<li>Go back to the Hackmii bundled installer in your Wii's message board (Letterbomb)</li>
				<li>Run it, and wait for it to load again</li>
				<li>Press (1) on the Wiimote, or (A) if you're using a gamecube controller to continue pass the loading screen</li>
				<li>Choose these options as they appear
					<ul>
						<li>Install Bootmii</li>
						<li>Install as boot2</li>
					</ul>
				</li>
				<li>Confirm the installation, and you should see some information about NAND memory being written to. This means that it worked</li>
				<li>If you are unable to install Bootmii at all, that probably means that you didn't do the previous step which was to install IOS236. Make sure you've done that step and then try again</li>
				<li>After the installation completes, you can exit the bundled installer and move on to setting up the SD card and the USB drive</li>
			</ul>
			
			<h4>Setting up the SD card and USB</h4>
			<ul>
				<li></li>
			</ul>

			<h4>Run the Whiite Installer</h4>
			<ul>
				<li>We will be using the installer for the <i>sole purpose</i> of how it partitions your SD card. I have been unsuccessful in trying to manually partition the SD card, even when it matches the layout of how the installer does it</li>
				<li>Boot the Wii with the SD, USB drive, and USB keyboard plugged in. Navigate to the Homebrew Channel, and run the gc-whiite installer app</li>
				<li>A couple menus will appear. Using the keyboard, you're always going to want to say &lt;yes&gt; when presented with that option</li>
				<li>Eventually, it will start to install. Using the recommended 2GB SD card, this process will take ~15 minutes. Do NOT unplug anything or turn off your Wii during this time
					<ul>
						<li>When the menu appears about "creating the journal", if it appears to freeze that is normal. For some reason this step takes a bit longer than all of the previous steps while installing</li>
					</ul>
				</li>
				<li>When the process completes, it will prompt you to press enter and restart the system. Do this. It won't restart. Once it turns completely off, move on to the next step</li>
			</ul>

			<h4>Wipe the SD card</h4>
			<ul>
				<li>Unplug the SD card from your Wii, and reconnect it to your computer</li>
				<li>When plugged in, you should find that two separate partitions have been created by the installer
					<ul>
						<li>boot</li>
						<li>whiite</li>
					</ul>
				</li>
				<li>Using terminal, the path to the mounted partitions should be something like "/media/$USER/boot/" and "/media/$USER/whiite/"</li>
				<li>We need to remove all files on both partitions. Using the terminal, run:
					<ul>
						<li><code>rm -rf /media/$USER/boot/*</code></li>
						<li><code>rm -rf /media/$USER/whiite/*</code></li>
					</ul>
				</li>
				<li>Confirm that the files have been removed by either <code>ls</code>'ing in terminal, or navigating to the partitions with your file manager</li>
				<div class="box">
					<i>
					<p>Note: When unplugging the SD card from your computer, make sure to eject it safely. For me, when performing copy and deletes from the SD from my computer, the terminal commands would end but the SD card would still be performing actions. If you do not eject safely, you risk corrupting the filesystem or the kernel</p>
					</i>
				</div>
			</ul>

			<h4>Add Bootmii</h4>
			<ul>
				<li>Remember the folder you copied from your SD card when you initially installed bootmii? Copy that entire folder into the SD card's boot partition</li>
				<li>We will be overwriting the ppcboot.elf file in the bootmii folder, so we can delete it first via terminal:
					<ul>
						<li><code>rm /media/$USER/boot/bootmii/ppcboot.elf</code></li>
					</ul>
				</li>
			</ul>

			<h4>Get the Correct Kernel</h4>
			<ul>
				<li>The filestructure of the SD card should look like this:
					<ul>
						<li>boot <i>(partition)</i>
							<ul>
								<li>bootmii
									<ul>
										<li>armboot.bin</li>
										<li>bootmii.ini</li>
									</ul>
								</li>
							</ul>
						</li>
						<li>whiite <i>(partition)</i></li>
					</ul>
				</li>
				<li>Go to <a href="http://www.gc-linux.org/wiki/WL:whiite-linux#Featured_kernel_images">this</a> location and download the kernel version that best fits your TV and Wii setup. I would say 99 out of 100 times you're going to want to use the 5<sup>th</sup> option, "<a href="http://downloads.sourceforge.net/gc-linux/mikep5-zImage-2.6.32.mini.480p(NTSC).elf">mikep5-zImage-2.6.32.mini.480p(NTSC).elf</a>"</li>
				<li>Move the .elf file into the bootmii folder on your SD card, either with the <code>mv</code> terminal command or by dragging and dropping the file</li>
				<li>Rename the file "ppcboot.elf"
					<ul>
						<li><code>mv /media/$USER/boot/bootmii/mikep5-zImage-2.6.32.mini.480p(NTSC).elf /media/$USER/boot/bootmii/ppcboot.elf</code></li>
					</ul>
				</li>
			</ul>

			<h4>Get the Updated Filesystem</h4>
			<ul>
				<li>Download <a href="http://downloads.sf.net/gc-linux/debian-lenny-5.0%2Bwhiite-1.10.tar.bz2">this</a> file</li>
				<li>Navigate to the whiite directory on your SD card
					<ul>
						<li><code>cd /media/$USER/whiite</code></li>
					</ul>
				</li>
				<li>Untar the downloaded file into this location using the terminal
					<ul>
						<li><code>sudo tar -xjvf /home/$USER/Downloads/debian-lenny-5.0+whiite-1.10.tar.bz2</code></li>
					</ul>
				</li>
				<li>Wait for the untarring process to finish, it may take ~10 seconds to complete</li>
				<li>Eject the drive safely, and wait for confirmation that you're able to unplug before you do so. Again, not safely removing the SD card from your computer risks corruption of the filesystem</li>
			</ul>
		</div>
		<hr>

		<h2>Once you have Whiite installed</h2>
		<div class="box">
			<h4>Booting the Wii for the first time</h4>
			<ul>
				<li>Make sure that the SD card is in the Wii</li>
				<li>Turn it on</li>
				<li>Wait...</li>
				<li>You shouldn't crash. If so, your best bet is to Google the generic error(s), not specifying the Wii</li>
				<li>When prompted, enter whiite's login information:
					<ul>
						<li>Login:    <code>root</code></li>
						<li>Password: <code>whiite</code></li>
					</ul>
				</li>
				<li>You should now be logged into whiite on your Wii as root</li>
			</ul>

			<h4>Fixing the Keyboard</h4>
			<ul>
				<li>If you try typing some symbols, such as '-', you can see they don't type the correct characters</li>
				<li>Run the command <code>dpkg-reconfigure console-data</code>. Use the Numberpad '-'</li>
				<li>Wait for the config tool to load...</li>
				<li>Choose these options as they appear to load a standard QWERTY English keyboard
					<ul>
						<li>OK</li>
						<li>Select keymap from full list</li>
						<li>Scroll down with the arrow keys until you find "pc / qwerty / US american / Standard / Standard"</li>
						<li>Press enter on that choice</li>
					</ul>
				</li>
				<li>Wait for the tool to finish working...</li>
				<li>Now your keyboard should be working correctly</li>
			</ul>

			<h4>Setting up WiFi</h4>
			<ul>
				<li>Whiite comes bundled with an easy installer that automatically modifies the "/etc/network/interfaces" file</li>
				<li>The binary is located in the root. If you're in the root direction "~", you can get there by running <code>cd ~</code></li>
				<li>While here I find myself running <code>ls</code> in every directory to get a sense for where things are in the filesytem</li>
				<li>Run <code>./whiite-ez-wifi-config</code></li>
				<li>Follow the onscreen prompts to enter your network SSID and passkey</li>
				<li>There will be an option to test the connection, you will want to test the connection
					<ul>
						<li>If the installer says that the connection didn't work, don't worry. It might've worked anyway and the installer doesn't recognize it</li>
					</ul>
				</li>
				<li>Back in your regular terminal, you can run <code>iwconfig</code> to see if you are connected to a network</li>
				<li>You will be looking for the "wlan0" connection</li>
				<div class="box">
					<i>
					<p>Note: If you find that you still cannot connect to a WiFi spot, you can check the interfaces using <code>vi /etc/network/interfaces</code>. You can also restart the system, that might help: <code>shutdown -h now</code></p>
					</i>
				</div>
				<li>If everything looks good, you can issue a <code>ping</code> to a website, like "www.google.com", and hopefully you will see a response</li>
			</ul>

			<h4>Getting Correct Aptitude Repositories</h4>
			<ul>
				<li>Debian Lenny has become unsupported, so any <code>apt-get install</code> command will most likely fail due to the wrong repository source being used</li>
				<li>To update this, use the following three commands in order:
					<ul>
						<li><code>deb http://archive.debian.org/debian/ lenny contrib main non-free</code></li>
						<li><code>deb http://archive.debian.org/debian-security lenny/updates main</code></li>
						<li><code>apt-get install debian-archive-keyring</code></li>
					</ul>
				</li>
			</ul>

			<h4>Upgrade and Update Aptitude</h4>
			<ul>
				<li>If you've gotten this far, I probably don't need to show you how to update apt</li>
				<li><s>Overall I think it was ~150MB</s> I have no idea how much it was to upgrade and update everything
					<ul>
						<li><code>apt-get update</code></li>
						<li><code>apt-get upgrade</code></li>
						<li><code>apt-get update</code></li>
					</ul>
				</li>
			</ul>

			<h4>Tying out Apt</h4>
			<ul>
				<li>A useful tool while messing around with the Wii is htop</li>
				<li>It is essentially a better version of top, which is your basic System Monitor
					<ul>
						<li><code>apt-get install htop</code></li>
					</ul>
				</li>
				<li>Likewise, whiite (aka Debian Lenny) comes with the vi text editor. However, if you plan to do text editing at all on the machine, I recommend installing vim
					<ul>
						<li><code>apt-get install vim</code></li>
					</ul>
				</li>
			</ul>

		</div>
	</body>
</html>